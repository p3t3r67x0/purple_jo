# Changelog

All notable changes to this project are documented here.

## 2025-09

- Completed comprehensive migration from MongoDB to PostgreSQL for improved data integrity, ACID transactions, and query performance with proper indexing and connection pooling ([c01d70a](https://github.com/p3t3r67x0/purple_jo/commit/c01d70a), [d79c10e](https://github.com/p3t3r67x0/purple_jo/commit/d79c10e), [00cf0a4](https://github.com/p3t3r67x0/purple_jo/commit/00cf0a4), [b7d1e67](https://github.com/p3t3r67x0/purple_jo/commit/b7d1e67))
- Converted critical scanning tools to PostgreSQL with modern async patterns including ssl_cert_scanner.py, extract_certstream.py, decode_idna.py, and insert_asn.py for independent operation ([4736387](https://github.com/p3t3r67x0/purple_jo/commit/4736387), [2c53d26](https://github.com/p3t3r67x0/purple_jo/commit/2c53d26), [fe9b681](https://github.com/p3t3r67x0/purple_jo/commit/fe9b681))
- Fixed SSL certificate extraction bug in scanner by changing context from CERT_NONE to CERT_OPTIONAL, enabling proper certificate retrieval and storage in PostgreSQL ([83d89e1](https://github.com/p3t3r67x0/purple_jo/commit/83d89e1), [7417c2d](https://github.com/p3t3r67x0/purple_jo/commit/7417c2d))
- Enhanced error handling across tools by replacing fragile string-based exception detection with proper IntegrityError type checking for database constraints ([5256fdb](https://github.com/p3t3r67x0/purple_jo/commit/5256fdb), [6a63d96](https://github.com/p3t3r67x0/purple_jo/commit/6a63d96))
- Established database schema management through Alembic migrations with comprehensive test suite ensuring data consistency and upgrade safety ([15a56f8](https://github.com/p3t3r67x0/purple_jo/commit/15a56f8), [020beec](https://github.com/p3t3r67x0/purple_jo/commit/020beec))
- Modernized CLI interfaces and tooling infrastructure with updated dependencies and PostgreSQL integration across development tools ([4977b31](https://github.com/p3t3r67x0/purple_jo/commit/4977b31), [91f9f6d](https://github.com/p3t3r67x0/purple_jo/commit/91f9f6d), [541ebb5](https://github.com/p3t3r67x0/purple_jo/commit/541ebb5), [6675b4b](https://github.com/p3t3r67x0/purple_jo/commit/6675b4b), [42070b2](https://github.com/p3t3r67x0/purple_jo/commit/42070b2), [71817b8](https://github.com/p3t3r67x0/purple_jo/commit/71817b8), [d73aab2](https://github.com/p3t3r67x0/purple_jo/commit/d73aab2))
- Rewired the graph builder so relationship gaps no longer drop nodes when exploring domain intelligence ([9219954](https://github.com/p3t3r67x0/purple_jo/commit/9219954))
- Ported the API from Flask to FastAPI and split record/header logic into dedicated services to simplify maintenance ([98d260e](https://github.com/p3t3r67x0/purple_jo/commit/98d260e), [7cda775](https://github.com/p3t3r67x0/purple_jo/commit/7cda775), [56e72a2](https://github.com/p3t3r67x0/purple_jo/commit/56e72a2))
- Introduced real-time insight endpoints, including WebSocket live scans and request/stat trend reporting for operators ([93c6489](https://github.com/p3t3r67x0/purple_jo/commit/93c6489), [80be5f9](https://github.com/p3t3r67x0/purple_jo/commit/80be5f9), [48d3d6d](https://github.com/p3t3r67x0/purple_jo/commit/48d3d6d))
- Replaced the legacy argparse CLI with Click-based commands to tighten UX and reuse tooling ([7fbf9e0](https://github.com/p3t3r67x0/purple_jo/commit/7fbf9e0))
- Consolidated documentation and setup instructions so newcomers can bootstrap environments without guesswork ([0cbacc9](https://github.com/p3t3r67x0/purple_jo/commit/0cbacc9), [5ef9769](https://github.com/p3t3r67x0/purple_jo/commit/5ef9769), [f9d7f9b](https://github.com/p3t3r67x0/purple_jo/commit/f9d7f9b))
- Enforced data integrity through a unique DNS domain index and exposed country codes alongside ASN data in the API ([9d224a8](https://github.com/p3t3r67x0/purple_jo/commit/9d224a8), [eccd10b](https://github.com/p3t3r67x0/purple_jo/commit/eccd10b))
- Expanded TLS coverage and logging so cipher scans surface actionable diagnostics ([9856a5d](https://github.com/p3t3r67x0/purple_jo/commit/9856a5d), [58725c9](https://github.com/p3t3r67x0/purple_jo/commit/58725c9))

- Removed app-level CORS, delegating it to nginx, and fixed cache and SSL issuer lookups to stabilise responses ([d9c89df](https://github.com/p3t3r67x0/purple_jo/commit/d9c89df), [41f020e](https://github.com/p3t3r67x0/purple_jo/commit/41f020e), [958ed59](https://github.com/p3t3r67x0/purple_jo/commit/958ed59))
- Streamlined tooling and dependency pins to keep batch scripts fast and reproducible ([8c0f9c1](https://github.com/p3t3r67x0/purple_jo/commit/8c0f9c1), [1d20da3](https://github.com/p3t3r67x0/purple_jo/commit/1d20da3), [cd7de61](https://github.com/p3t3r67x0/purple_jo/commit/cd7de61), [eeacac5](https://github.com/p3t3r67x0/purple_jo/commit/eeacac5))

## 2023
- Captured missing setup knowledge in the README so fresh installs run smoothly on modern stacks ([bbc28c6](https://github.com/p3t3r67x0/purple_jo/commit/bbc28c6))
- Raised minimum versions for requests, redis, cryptography, werkzeug, and related stacks to pick up security fixes ([acb074c](https://github.com/p3t3r67x0/purple_jo/commit/acb074c), [fde2e7e](https://github.com/p3t3r67x0/purple_jo/commit/fde2e7e), [a26261e](https://github.com/p3t3r67x0/purple_jo/commit/a26261e), [6df8978](https://github.com/p3t3r67x0/purple_jo/commit/6df8978), [28f4974](https://github.com/p3t3r67x0/purple_jo/commit/28f4974))
- Landed automated Dependabot merges to keep indirect dependencies patched without manual intervention ([60dfeb7](https://github.com/p3t3r67x0/purple_jo/commit/60dfeb7), [77d676e](https://github.com/p3t3r67x0/purple_jo/commit/77d676e), [e03d247](https://github.com/p3t3r67x0/purple_jo/commit/e03d247), [a605aec](https://github.com/p3t3r67x0/purple_jo/commit/a605aec), [054f8c7](https://github.com/p3t3r67x0/purple_jo/commit/054f8c7), [c1ae3f8](https://github.com/p3t3r67x0/purple_jo/commit/c1ae3f8), [6287883](https://github.com/p3t3r67x0/purple_jo/commit/6287883), [7a3fab0](https://github.com/p3t3r67x0/purple_jo/commit/7a3fab0))

## 2022
- Performed a broad dependency refresh across the Python stack—including Pillow, websockets, Jinja2, urllib3, numpy, lxml, and certifi—to maintain compatibility ([0eb917a](https://github.com/p3t3r67x0/purple_jo/commit/0eb917a), [bca8ea3](https://github.com/p3t3r67x0/purple_jo/commit/bca8ea3), [ea8618e](https://github.com/p3t3r67x0/purple_jo/commit/ea8618e), [734c7b9](https://github.com/p3t3r67x0/purple_jo/commit/734c7b9), [7516da7](https://github.com/p3t3r67x0/purple_jo/commit/7516da7), [1538439](https://github.com/p3t3r67x0/purple_jo/commit/1538439), [ab3fcd9](https://github.com/p3t3r67x0/purple_jo/commit/ab3fcd9), [78f9fc3](https://github.com/p3t3r67x0/purple_jo/commit/78f9fc3))
- Coordinated Dependabot pull requests so the requirements file stays aligned with upstream releases ([5545048](https://github.com/p3t3r67x0/purple_jo/commit/5545048), [cfbc9a4](https://github.com/p3t3r67x0/purple_jo/commit/cfbc9a4), [fe02f61](https://github.com/p3t3r67x0/purple_jo/commit/fe02f61), [23b1c5b](https://github.com/p3t3r67x0/purple_jo/commit/23b1c5b), [3a7b9a4](https://github.com/p3t3r67x0/purple_jo/commit/3a7b9a4), [9b40536](https://github.com/p3t3r67x0/purple_jo/commit/9b40536), [216aa29](https://github.com/p3t3r67x0/purple_jo/commit/216aa29), [46d7d42](https://github.com/p3t3r67x0/purple_jo/commit/46d7d42), [4b0b606](https://github.com/p3t3r67x0/purple_jo/commit/4b0b606), [f9855c1](https://github.com/p3t3r67x0/purple_jo/commit/f9855c1))

## 2021
- Bumped aiohttp, PyYAML, urllib3, and Babel to close out CVEs across the networking toolchain ([72653d6](https://github.com/p3t3r67x0/purple_jo/commit/72653d6), [24d1b93](https://github.com/p3t3r67x0/purple_jo/commit/24d1b93), [1a60e54](https://github.com/p3t3r67x0/purple_jo/commit/1a60e54), [6255779](https://github.com/p3t3r67x0/purple_jo/commit/6255779))

## 2020
- Built graph extraction utilities to map domain relationships and wiki links for richer intelligence workflows ([08abeb6](https://github.com/p3t3r67x0/purple_jo/commit/08abeb6), [5a50009](https://github.com/p3t3r67x0/purple_jo/commit/5a50009), [862a974](https://github.com/p3t3r67x0/purple_jo/commit/862a974))
- Shifted query execution to aggregation pipelines with geo filters, index tuning, and pagination fixes to speed up search ([c539981](https://github.com/p3t3r67x0/purple_jo/commit/c539981), [1c5e891](https://github.com/p3t3r67x0/purple_jo/commit/1c5e891), [2db0893](https://github.com/p3t3r67x0/purple_jo/commit/2db0893), [91bc37e](https://github.com/p3t3r67x0/purple_jo/commit/91bc37e), [7921bd5](https://github.com/p3t3r67x0/purple_jo/commit/7921bd5))
- Added an asyncio-powered stats pipeline plus trends routing with CORS and Redis expiration controls for up-to-date metrics ([10528dc](https://github.com/p3t3r67x0/purple_jo/commit/10528dc), [ba19f66](https://github.com/p3t3r67x0/purple_jo/commit/ba19f66), [6d400c3](https://github.com/p3t3r67x0/purple_jo/commit/6d400c3), [7037ea1](https://github.com/p3t3r67x0/purple_jo/commit/7037ea1), [4267bc2](https://github.com/p3t3r67x0/purple_jo/commit/4267bc2))
- Hardened scanners with CVE-2019-19781 detection, SSL validity indexing, and defensive guard rails in import jobs ([0e95bcd](https://github.com/p3t3r67x0/purple_jo/commit/0e95bcd), [9185a04](https://github.com/p3t3r67x0/purple_jo/commit/9185a04), [a58e89c](https://github.com/p3t3r67x0/purple_jo/commit/a58e89c), [40671a0](https://github.com/p3t3r67x0/purple_jo/commit/40671a0), [0d69b0a](https://github.com/p3t3r67x0/purple_jo/commit/0d69b0a))
- Updated operator documentation and configuration defaults so deployments follow recommended nginx and Mongo setups ([7cfde57](https://github.com/p3t3r67x0/purple_jo/commit/7cfde57), [42db837](https://github.com/p3t3r67x0/purple_jo/commit/42db837), [ea199da](https://github.com/p3t3r67x0/purple_jo/commit/ea199da), [2827292](https://github.com/p3t3r67x0/purple_jo/commit/2827292), [c1a3de3](https://github.com/p3t3r67x0/purple_jo/commit/c1a3de3))

## 2019
- Delivered the initial Flask API with DNS ingestion, HTTP header scanning, and certificate/banner collection for monitored hosts ([4cace92](https://github.com/p3t3r67x0/purple_jo/commit/4cace92), [6f63d73](https://github.com/p3t3r67x0/purple_jo/commit/6f63d73), [400e60e](https://github.com/p3t3r67x0/purple_jo/commit/400e60e), [46be766](https://github.com/p3t3r67x0/purple_jo/commit/46be766), [c745ba9](https://github.com/p3t3r67x0/purple_jo/commit/c745ba9))
- Added helper scripts and multiprocessing workers to accelerate large-scale imports and crawling tasks ([ec1d818](https://github.com/p3t3r67x0/purple_jo/commit/ec1d818), [98d1123](https://github.com/p3t3r67x0/purple_jo/commit/98d1123), [98c2b90](https://github.com/p3t3r67x0/purple_jo/commit/98c2b90), [7a66077](https://github.com/p3t3r67x0/purple_jo/commit/7a66077), [afab000](https://github.com/p3t3r67x0/purple_jo/commit/afab000), [9c3434f](https://github.com/p3t3r67x0/purple_jo/commit/9c3434f), [f02d464](https://github.com/p3t3r67x0/purple_jo/commit/f02d464))
- Strengthened database consistency with WHOIS extraction, query refactors, and new indexes while documenting systemd deployments ([3910c6f](https://github.com/p3t3r67x0/purple_jo/commit/3910c6f), [14b0b08](https://github.com/p3t3r67x0/purple_jo/commit/14b0b08), [6ef15f0](https://github.com/p3t3r67x0/purple_jo/commit/6ef15f0), [1251f71](https://github.com/p3t3r67x0/purple_jo/commit/1251f71), [f41928a](https://github.com/p3t3r67x0/purple_jo/commit/f41928a), [a0469d5](https://github.com/p3t3r67x0/purple_jo/commit/a0469d5), [3c6aca2](https://github.com/p3t3r67x0/purple_jo/commit/3c6aca2))
- Bootstrapped repository structure, requirements, and ignore rules for the project foundation ([422397a](https://github.com/p3t3r67x0/purple_jo/commit/422397a), [daa0fcb](https://github.com/p3t3r67x0/purple_jo/commit/daa0fcb), [e88bfe0](https://github.com/p3t3r67x0/purple_jo/commit/e88bfe0), [6960694](https://github.com/p3t3r67x0/purple_jo/commit/6960694), [5eb1041](https://github.com/p3t3r67x0/purple_jo/commit/5eb1041))
